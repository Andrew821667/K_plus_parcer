# –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ K_plus_parcer

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-12-18 (–ß–ï–ö-–ü–û–ô–ù–¢ 3 –∑–∞–≤–µ—Ä—à—ë–Ω)
**–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø:** –≠—Ç–∞–ø 1 - MVP + Markdown —ç–∫—Å–ø–æ—Ä—Ç (–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏)
**–í–µ—Ä—Å–∏—è:** 0.1.0-dev
**Git commit:** 67cf7a9 (–ß–ï–ö-–ü–û–ô–ù–¢ 2), –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç –¥–ª—è –ß–ï–ö-–ü–û–ô–ù–¢ 3 –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω

---

## üìã –£–ö–ê–ó–ê–ù–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

### –ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. ‚úÖ **Markdown —ç–∫—Å–ø–æ—Ä—Ç - –ü–†–ò–û–†–ò–¢–ï–¢ #1** (–Ω–µ –æ–ø—Ü–∏—è, –∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ)
2. ‚úÖ –ë–∞–∑–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –¥–ª—è **–æ–±—É—á–µ–Ω–∏—è ML –º–æ–¥–µ–ª–µ–π** –∏ **RAG —Å–∏—Å—Ç–µ–º**
3. ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ MD –±–∞–∑—É - **–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å**, –Ω–µ –æ–ø—Ü–∏—è
4. ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–µ—Å—Ç–∏ —Ñ–∞–π–ª **Current.md** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º:
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
   - –°–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏
   - –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ
   - –ß—Ç–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
5. ‚úÖ –ü–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π –ø–æ—Å–ª–µ –ø–∞—É–∑—ã - **—Å–≤–µ—Ä—è—Ç—å—Å—è —Å Current.md**
6. ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å **–≤—Å–µ —É–∫–∞–∑–∞–Ω–∏—è** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ
7. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—á–µ–∫-–ø–æ–π–Ω—Ç—ã** –∏ –æ—Ç—Ä–∞–∂–∞—Ç—å –∏—Ö –∑–¥–µ—Å—å

---

## üéØ –ß–ï–ö-–ü–û–ô–ù–¢–´

### ‚úÖ –ß–µ–∫-–ø–æ–π–Ω—Ç 1: –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ (2025-12-18)
- –ö–æ–Ω—Ü–µ–ø—Ü–∏—è v2.0 —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ ML/RAG
- Markdown —ç–∫—Å–ø–æ—Ä—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –∫–∞–∫ –ü–†–ò–û–†–ò–¢–ï–¢ #1
- –ü–ª–∞–Ω –∏–∑ 5 —ç—Ç–∞–ø–æ–≤ —É—Ç–≤–µ—Ä–∂–¥—ë–Ω
- –ü–æ–ª—É—á–µ–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –Ω–∞—á–∞–ª–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Commit:** 6bf8634

### ‚úÖ –ß–µ–∫-–ø–æ–π–Ω—Ç 2: MVP –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (2025-12-18)
**–°—Ç–∞—Ç—É—Å:** –ó–ê–í–ï–†–®–Å–ù ‚úÖ
**Commit:** 67cf7a9
**–ó–∞–¥–∞—á–∏:**
- [x] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª Current.md —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ø–ª–∞–Ω–æ–º
- [x] –°–æ–∑–¥–∞–Ω—ã –≤—Å–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- [x] –°–æ–∑–¥–∞–Ω requirements.txt —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ Stage 1
- [x] –°–æ–∑–¥–∞–Ω setup.py –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞
- [x] –°–æ–∑–¥–∞–Ω .gitignore
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (Pydantic):
  - DocumentMetadata - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
  - Article, ArticlePart, Chapter - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ù–ü–ê
  - NPADocument - –≥–ª–∞–≤–Ω–∞—è –º–æ–¥–µ–ª—å
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —É—Ç–∏–ª–∏—Ç—ã:
  - Logger (loguru) —Å —Ä–æ—Ç–∞—Ü–∏–µ–π
  - TextCleaner - –æ—á–∏—Å—Ç–∫–∞ –æ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ PDF
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã:
  - PDFExtractor - PyMuPDF + pymupdf4llm
  - MetadataExtractor - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∏–ø–∞, –Ω–æ–º–µ—Ä–∞, –¥–∞—Ç—ã
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø–∞—Ä—Å–µ—Ä—ã:
  - ArticleParser - —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤—ã/—Å—Ç–∞—Ç—å–∏/—á–∞—Å—Ç–∏
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã:
  - ‚≠ê MarkdownExporter - –ü–†–ò–û–†–ò–¢–ï–¢! –° YAML frontmatter
  - JSONExporter - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON
- [x] –°–æ–∑–¥–∞–Ω –≥–ª–∞–≤–Ω—ã–π NPAParser –∫–ª–∞—Å—Å
- [x] –ó–∞–∫–æ–º–º–∏—á–µ–Ω–æ –∏ –∑–∞–ø—É—à–µ–Ω–æ –≤ Git

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (22 —Ñ–∞–π–ª–∞, 2651 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞):**
```
‚úÖ .gitignore
‚úÖ Current.md
‚úÖ requirements.txt
‚úÖ setup.py
‚úÖ src/__init__.py
‚úÖ src/parser.py - –≥–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å
‚úÖ src/models/ (3 —Ñ–∞–π–ª–∞)
‚úÖ src/extractors/ (2 —Ñ–∞–π–ª–∞)
‚úÖ src/parsers/ (1 —Ñ–∞–π–ª)
‚úÖ src/exporters/ (2 —Ñ–∞–π–ª–∞)
‚úÖ src/utils/ (2 —Ñ–∞–π–ª–∞)
‚úÖ tests/__init__.py
```

### ‚úÖ –ß–µ–∫-–ø–æ–π–Ω—Ç 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä—ã (2025-12-18)
**–°—Ç–∞—Ç—É—Å:** –ó–ê–í–ï–†–®–Å–ù ‚úÖ
**Commit:** (–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω)
**–ó–∞–¥–∞—á–∏:**
- [x] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç examples/basic_usage.py
- [x] –°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã examples/test_components.py
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ç–µ–∫—Å—Ç–∞
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Markdown –≤—ã–≤–æ–¥
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JSON –≤—ã–≤–æ–¥
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏ (datetime serialization –≤ JSONExporter)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º PDF –¥–æ–∫—É–º–µ–Ω—Ç–µ (–æ–∂–∏–¥–∞–µ—Ç PDF –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –¥–ª—è pytest (—Å–ª–µ–¥—É—é—â–∏–π —á–µ–∫-–ø–æ–π–Ω—Ç)

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- examples/basic_usage.py - –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–∞
- examples/test_components.py - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- data/output/markdown/test_sample.md - —Ç–µ—Å—Ç–æ–≤—ã–π Markdown –≤—ã–≤–æ–¥
- data/output/json/test_sample.json - —Ç–µ—Å—Ç–æ–≤—ã–π JSON –≤—ã–≤–æ–¥

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏:**
1. **JSONExporter - datetime serialization**: JSON –Ω–µ –º–æ–≥ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å datetime –æ–±—ä–µ–∫—Ç—ã
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_serialize_datetime()` –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ datetime –≤ ISO —Ñ–æ—Ä–º–∞—Ç
   - –§–∞–π–ª: src/exporters/json_exporter.py

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
‚úÖ MetadataExtractor - —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ ArticleParser - —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ MarkdownExporter - —Ä–∞–±–æ—Ç–∞–µ—Ç (–ü–†–ò–û–†–ò–¢–ï–¢ #1)
‚úÖ JSONExporter - —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### ‚è≥ –ß–µ–∫-–ø–æ–π–Ω—Ç 4: –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è MVP (—Å–ª–µ–¥—É—é—â–∏–π)
**–°—Ç–∞—Ç—É—Å:** –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
**–ó–∞–¥–∞—á–∏:**
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Å pytest
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º PDF –ù–ü–ê
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å requirements-dev.txt
- [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## üèóÔ∏è –¢–ï–ö–£–©–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
```
K_plus_parcer/
‚îú‚îÄ‚îÄ .git/                   # Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
‚îú‚îÄ‚îÄ CONCEPT.md              # ‚úÖ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è v2.0 (—É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞)
‚îú‚îÄ‚îÄ CONCEPT_UPDATE_SUMMARY.md  # ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π v2.0
‚îú‚îÄ‚îÄ README.md               # ‚úÖ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ Current.md              # üîÑ –≠—Ç–æ—Ç —Ñ–∞–π–ª (—Å–æ–∑–¥–∞—ë—Ç—Å—è)
‚îî‚îÄ‚îÄ LICENSE                 # –õ–∏—Ü–µ–Ω–∑–∏—è
```

### –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–∏–∑ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏):
```
K_plus_parcer/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ extractors/          # –ú–æ–¥—É–ª–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pdf_extractor.py      # –≠–¢–ê–ü 1 ‚≠ê
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ metadata_extractor.py # –≠–¢–ê–ü 1 ‚≠ê
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ table_extractor.py    # –≠–¢–ê–ü 2
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ entity_extractor.py   # –≠–¢–ê–ü 3
‚îÇ   ‚îú‚îÄ‚îÄ parsers/             # –ü–∞—Ä—Å–µ—Ä—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ structure_parser.py   # –≠–¢–ê–ü 2
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ article_parser.py     # –≠–¢–ê–ü 1 ‚≠ê
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ references_parser.py  # –≠–¢–ê–ü 3
‚îÇ   ‚îú‚îÄ‚îÄ models/              # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ document.py           # –≠–¢–ê–ü 1 ‚≠ê
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ article.py            # –≠–¢–ê–ü 1 ‚≠ê
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ metadata.py           # –≠–¢–ê–ü 1 ‚≠ê
‚îÇ   ‚îú‚îÄ‚îÄ exporters/           # –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ markdown_exporter.py  # –≠–¢–ê–ü 1 ‚≠ê –ü–†–ò–û–†–ò–¢–ï–¢!
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ json_exporter.py      # –≠–¢–ê–ü 1 ‚≠ê
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ xml_exporter.py       # –≠–¢–ê–ü 2
‚îÇ   ‚îú‚îÄ‚îÄ rag/                 # –ú–æ–¥—É–ª–∏ –¥–ª—è RAG (–≠–¢–ê–ü 2-3)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chunker.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ embeddings.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vectordb_loader.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ metadata_enricher.py
‚îÇ   ‚îú‚îÄ‚îÄ ml/                  # –ú–æ–¥—É–ª–∏ –¥–ª—è ML (–≠–¢–ê–ü 4)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dataset_builder.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ qa_generator.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ legal_reasoning.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ format_converters.py
‚îÇ   ‚îú‚îÄ‚îÄ api/                 # API –∫–ª–∏–µ–Ω—Ç (–≠–¢–ê–ü 5)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ consultant_api.py
‚îÇ   ‚îî‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ text_cleaner.py       # –≠–¢–ê–ü 1 ‚≠ê
‚îÇ       ‚îú‚îÄ‚îÄ token_counter.py      # –≠–¢–ê–ü 2
‚îÇ       ‚îî‚îÄ‚îÄ logger.py             # –≠–¢–ê–ü 1 ‚≠ê
‚îú‚îÄ‚îÄ tests/                   # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_extractors.py
‚îÇ   ‚îú‚îÄ‚îÄ test_parsers.py
‚îÇ   ‚îî‚îÄ‚îÄ test_exporters.py
‚îú‚îÄ‚îÄ data/                    # –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ input/               # –ò—Å—Ö–æ–¥–Ω—ã–µ PDF
‚îÇ   ‚îî‚îÄ‚îÄ output/
‚îÇ       ‚îú‚îÄ‚îÄ json/
‚îÇ       ‚îú‚îÄ‚îÄ markdown/        # ‚≠ê –ü–†–ò–û–†–ò–¢–ï–¢!
‚îÇ       ‚îú‚îÄ‚îÄ chunks/          # –≠–¢–ê–ü 2
‚îÇ       ‚îî‚îÄ‚îÄ datasets/        # –≠–¢–ê–ü 4
‚îú‚îÄ‚îÄ configs/                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ chunking_config.yaml     # –≠–¢–ê–ü 2
‚îÇ   ‚îú‚îÄ‚îÄ rag_config.yaml          # –≠–¢–ê–ü 3
‚îÇ   ‚îî‚îÄ‚îÄ ml_config.yaml           # –≠–¢–ê–ü 4
‚îú‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ examples/                # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ basic_usage.py       # –≠–¢–ê–ü 1
‚îú‚îÄ‚îÄ requirements.txt         # ‚≠ê –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—Å–æ–∑–¥–∞—Ç—å!)
‚îú‚îÄ‚îÄ setup.py                 # ‚≠ê –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Å–æ–∑–¥–∞—Ç—å!)
‚îú‚îÄ‚îÄ .gitignore              # Git ignore
‚îî‚îÄ‚îÄ pytest.ini              # Pytest –∫–æ–Ω—Ñ–∏–≥
```

---

## üì¶ –≠–¢–ê–ü 1: MVP + Markdown —ç–∫—Å–ø–æ—Ä—Ç (–¢–ï–ö–£–©–ò–ô)

### –¶–µ–ª—å —ç—Ç–∞–ø–∞:
–°–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø–∞—Ä—Å–µ—Ä —Å –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ú Markdown —ç–∫—Å–ø–æ—Ä—Ç–æ–º

### –°—Ä–æ–∫: 1-2 –Ω–µ–¥–µ–ª–∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–∏–∑ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏):
- [x] –ë–∞–∑–æ–≤–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF (PyMuPDF + pymupdf4llm)
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–æ–º–µ—Ä, –¥–∞—Ç–∞)
- [ ] –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç–∞—Ç—å–∏ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º
- [ ] **–≠–∫—Å–ø–æ—Ä—Ç –≤ Markdown —Å YAML frontmatter** (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON

### –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- `data/output/markdown/[document].md` - –≥–æ—Ç–æ–≤–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
- `data/output/json/[document].json` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (–≠–¢–ê–ü 1):
```python
# requirements.txt –¥–ª—è –≠–¢–ê–ü–ê 1
pymupdf>=1.23.0           # –ë–∞–∑–æ–≤–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
pymupdf4llm>=0.0.1        # Markdown —ç–∫—Å–ø–æ—Ä—Ç (–ü–†–ò–û–†–ò–¢–ï–¢!)
pydantic>=2.0.0           # –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
pyyaml>=6.0               # –†–∞–±–æ—Ç–∞ —Å YAML frontmatter
loguru>=0.7.0             # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
click>=8.1.0              # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)
```

---

## üé® –ê–†–•–ò–¢–ï–ö–¢–£–†–ê MVP

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (src/models/)

#### 1. Document (document.py)
```python
class NPADocument(BaseModel):
    """–ú–æ–¥–µ–ª—å –ù–ü–ê –¥–æ–∫—É–º–µ–Ω—Ç–∞"""
    metadata: DocumentMetadata
    content: DocumentContent
    raw_text: str

    def export_markdown(self, output_path: str) -> str:
        """–≠–∫—Å–ø–æ—Ä—Ç –≤ Markdown - –ü–†–ò–û–†–ò–¢–ï–¢!"""

    def export_json(self, output_path: str) -> str:
        """–≠–∫—Å–ø–æ—Ä—Ç –≤ JSON"""
```

#### 2. Metadata (metadata.py)
```python
class DocumentMetadata(BaseModel):
    """–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ù–ü–ê"""
    doc_type: str           # –§–ï–î–ï–†–ê–õ–¨–ù–´–ô –ó–ê–ö–û–ù, –ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –∏ —Ç.–¥.
    number: str             # 44-–§–ó
    date: datetime          # –î–∞—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è
    title: str              # –ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
    authority: Optional[str]  # –ü—Ä–∏–Ω—è–≤—à–∏–π –æ—Ä–≥–∞–Ω
    status: str = "–¥–µ–π—Å—Ç–≤—É—é—â–∏–π"
    version_date: Optional[datetime]
    categories: List[str] = []
    references: List[str] = []
```

#### 3. Article (article.py)
```python
class Article(BaseModel):
    """–ú–æ–¥–µ–ª—å —Å—Ç–∞—Ç—å–∏ –ù–ü–ê"""
    number: str             # –ù–æ–º–µ—Ä —Å—Ç–∞—Ç—å–∏
    title: str              # –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
    parts: List[ArticlePart]
    full_text: str

class ArticlePart(BaseModel):
    """–ß–∞—Å—Ç—å —Å—Ç–∞—Ç—å–∏"""
    number: int
    text: str
    subparts: List[str] = []
```

### –≠–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã (src/extractors/)

#### 1. PDFExtractor (pdf_extractor.py)
```python
class PDFExtractor:
    """–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF"""

    def __init__(self, use_pymupdf4llm: bool = True):
        self.use_pymupdf4llm = use_pymupdf4llm  # –î–ª—è Markdown

    def extract(self, pdf_path: str) -> Dict[str, Any]:
        """–ò–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç –∏ –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É"""
        # PyMuPDF –¥–ª—è —Ç–µ–∫—Å—Ç–∞
        # pymupdf4llm –¥–ª—è Markdown-friendly –≤—ã–≤–æ–¥–∞
```

#### 2. MetadataExtractor (metadata_extractor.py)
```python
class MetadataExtractor:
    """–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ù–ü–ê"""

    PATTERNS = {
        'doc_type': r'(–§–ï–î–ï–†–ê–õ–¨–ù–´–ô –ó–ê–ö–û–ù|–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï|–ü–†–ò–ö–ê–ó)',
        'number_date': r'–æ—Ç\s+(\d{2}\.\d{2}\.\d{4})\s*N\s*([\d-]+)',
        'title': r'(?<=\n\n).+?(?=\n\n)',
    }

    def extract(self, text: str) -> DocumentMetadata:
        """–ò–∑–≤–ª–µ—á—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–µ–∫—Å—Ç–∞"""
```

### –ü–∞—Ä—Å–µ—Ä—ã (src/parsers/)

#### 1. ArticleParser (article_parser.py)
```python
class ArticleParser:
    """–ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç–∞—Ç–µ–π –ù–ü–ê"""

    ARTICLE_PATTERN = r'^–°—Ç–∞—Ç—å—è\s+(\d+(?:\.\d+)?)\.\s*(.+?)$'
    PART_PATTERN = r'^\d+\.\s'

    def parse(self, text: str) -> List[Article]:
        """–†–∞–∑–æ–±—Ä–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ —Å—Ç–∞—Ç—å–∏"""
```

### –≠–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã (src/exporters/)

#### 1. MarkdownExporter (markdown_exporter.py) ‚≠ê –ü–†–ò–û–†–ò–¢–ï–¢!
```python
class MarkdownExporter:
    """–≠–∫—Å–ø–æ—Ä—Ç –≤ Markdown —Å YAML frontmatter"""

    def export(self, document: NPADocument, output_path: str) -> str:
        """
        –°–æ–∑–¥–∞—Ç—å Markdown —Ñ–∞–π–ª:
        1. YAML frontmatter —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
        2. H1 - –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
        3. H2 - –≥–ª–∞–≤—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
        4. H3 - —Å—Ç–∞—Ç—å–∏
        5. –ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ - —á–∞—Å—Ç–∏ —Å—Ç–∞—Ç–µ–π
        """

    def _generate_frontmatter(self, metadata: DocumentMetadata) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è YAML frontmatter"""

    def _generate_body(self, content: DocumentContent) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ Markdown"""
```

#### 2. JSONExporter (json_exporter.py)
```python
class JSONExporter:
    """–≠–∫—Å–ø–æ—Ä—Ç –≤ JSON"""

    def export(self, document: NPADocument, output_path: str) -> str:
        """–≠–∫—Å–ø–æ—Ä—Ç –≤ JSON —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏"""
```

### –£—Ç–∏–ª–∏—Ç—ã (src/utils/)

#### 1. TextCleaner (text_cleaner.py)
```python
class TextCleaner:
    """–û—á–∏—Å—Ç–∫–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞"""

    def clean(self, text: str) -> str:
        """
        - –£–¥–∞–ª–µ–Ω–∏–µ –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤ –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–ü–ª—é—Å
        - –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω—Ç–∏—Ç—É–ª–æ–≤
        - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–µ–ª–æ–≤
        - –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ PDF
        """
```

#### 2. Logger (logger.py)
```python
from loguru import logger

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logger.add("logs/k_plus_parcer.log", rotation="10 MB")
```

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –§–æ—Ä–º–∞—Ç Markdown (–ü–†–ò–û–†–ò–¢–ï–¢!)

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:
```markdown
---
doc_type: –§–ï–î–ï–†–ê–õ–¨–ù–´–ô –ó–ê–ö–û–ù
number: 44-–§–ó
date: 2013-04-05
title: –û –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –≤ —Å—Ñ–µ—Ä–µ –∑–∞–∫—É–ø–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤, —Ä–∞–±–æ—Ç, —É—Å–ª—É–≥...
authority: –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –î—É–º–∞
status: –¥–µ–π—Å—Ç–≤—É—é—â–∏–π
version_date: 2024-12-01
categories: [–∑–∞–∫—É–ø–∫–∏, –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω—É–∂–¥—ã]
references: []
---

# –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –∑–∞–∫–æ–Ω –æ—Ç 05.04.2013 N 44-–§–ó

**–û –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –≤ —Å—Ñ–µ—Ä–µ –∑–∞–∫—É–ø–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤, —Ä–∞–±–æ—Ç, —É—Å–ª—É–≥ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏ –º—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω—ã—Ö –Ω—É–∂–¥**

## –ì–ª–∞–≤–∞ 1. –û–ë–©–ò–ï –ü–û–õ–û–ñ–ï–ù–ò–Ø

### –°—Ç–∞—Ç—å—è 1. –ü—Ä–µ–¥–º–µ—Ç —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –§–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∑–∞–∫–æ–Ω–∞

1. –ù–∞—Å—Ç–æ—è—â–∏–π –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –∑–∞–∫–æ–Ω —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è...

2. –ù–∞—Å—Ç–æ—è—â–∏–π –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –∑–∞–∫–æ–Ω –Ω–µ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å:
   - –∫—É–ø–ª–µ–π-–ø—Ä–æ–¥–∞–∂–µ–π —Ü–µ–Ω–Ω—ã—Ö –±—É–º–∞–≥...
   - –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ–º –±–∏—Ä–∂–µ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤...
```

#### –ü—Ä–∞–≤–∏–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. **YAML frontmatter** - –≤—Å–µ–≥–¥–∞ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞
2. **H1** - —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å –Ω–æ–º–µ—Ä–æ–º
3. **H2** - –¥–ª—è –≥–ª–∞–≤/—Ä–∞–∑–¥–µ–ª–æ–≤
4. **H3** - –¥–ª—è —Å—Ç–∞—Ç–µ–π
5. **–ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏** - –¥–ª—è —á–∞—Å—Ç–µ–π —Å—Ç–∞—Ç–µ–π
6. **–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏** - –¥–ª—è –ø—É–Ω–∫—Ç–æ–≤ –∏ –ø–æ–¥–ø—É–Ω–∫—Ç–æ–≤
7. **–¢–∞–±–ª–∏—Ü—ã** - –≤ Markdown —Ñ–æ—Ä–º–∞—Ç–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

```python
PATTERNS = {
    # –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    'doc_type': r'(–§–ï–î–ï–†–ê–õ–¨–ù–´–ô –ó–ê–ö–û–ù|–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï|–ü–†–ò–ö–ê–ó|–£–ö–ê–ó|–†–ê–°–ü–û–†–Ø–ñ–ï–ù–ò–ï)',

    # –ù–æ–º–µ—Ä –∏ –¥–∞—Ç–∞
    'number_date': r'–æ—Ç\s+(\d{1,2}\.?\s*\w+\s*\d{4})\s*–≥?\.\s*N\s*([\d-]+)',

    # –°—Ç—Ä—É–∫—Ç—É—Ä–∞
    'chapter': r'^(–ì–ª–∞–≤–∞|–†–∞–∑–¥–µ–ª)\s+([IVXLCDM]+|\d+)\.',
    'article': r'^–°—Ç–∞—Ç—å—è\s+(\d+(?:\.\d+)?)\.\s*(.+?)$',
    'part': r'^\d+\.',
    'subpart': r'^\d+\)',

    # –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
    'title': r'(?:–§–ï–î–ï–†–ê–õ–¨–ù–´–ô –ó–ê–ö–û–ù|–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï|–ü–†–ò–ö–ê–ó).*?\n\n(.+?)\n\n',
}
```

---

## üìù –ü–õ–ê–ù –†–ê–ë–û–¢–´ (–¥–µ—Ç–∞–ª—å–Ω—ã–π)

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚úÖ (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- [x] –°–æ–∑–¥–∞—Ç—å Current.md
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- [ ] –°–æ–∑–¥–∞—Ç—å requirements.txt
- [ ] –°–æ–∑–¥–∞—Ç—å setup.py
- [ ] –°–æ–∑–¥–∞—Ç—å .gitignore

### –®–∞–≥ 2: –ë–∞–∑–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å DocumentMetadata
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Article –∏ ArticlePart
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å NPADocument
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é Pydantic

### –®–∞–≥ 3: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ PDF
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å PDFExtractor —Å PyMuPDF
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É pymupdf4llm
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ PDF

### –®–∞–≥ 4: –ü–∞—Ä—Å–∏–Ω–≥ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å MetadataExtractor
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –Ω–æ–º–µ—Ä–∞ –∏ –¥–∞—Ç—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è

### –®–∞–≥ 5: –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç–∞—Ç–µ–π
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ArticleParser
- [ ] –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —Å—Ç–∞—Ç—å–∏
- [ ] –†–∞–∑–±–∏–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –Ω–∞ —á–∞—Å—Ç–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤

### –®–∞–≥ 6: Markdown —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä ‚≠ê –ü–†–ò–û–†–ò–¢–ï–¢!
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å MarkdownExporter
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è YAML frontmatter
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (H1, H2, H3)
- [ ] –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –º–µ–∂–¥—É —Å—Ç–∞—Ç—å—è–º–∏

### –®–∞–≥ 7: JSON —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å JSONExporter
- [ ] –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (indent=2)
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ JSON

### –®–∞–≥ 8: –£—Ç–∏–ª–∏—Ç—ã
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å TextCleaner
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Loguru
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

### –®–∞–≥ 9: –û—Å–Ω–æ–≤–Ω–æ–π API
- [ ] –°–æ–∑–¥–∞—Ç—å NPAParser –∫–ª–∞—Å—Å
- [ ] –ú–µ—Ç–æ–¥ parse(pdf_path) -> NPADocument
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –®–∞–≥ 10: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ PDF
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Markdown –≤—ã—Ö–æ–¥
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JSON –≤—ã—Ö–æ–¥

### –®–∞–≥ 11: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- [ ] –°–æ–∑–¥–∞—Ç—å examples/basic_usage.py
- [ ] –û–±–Ω–æ–≤–∏—Ç—å Current.md

---

## üêõ –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ / –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. ‚úÖ **JSONExporter datetime serialization** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –ß–ï–ö-–ü–û–ô–ù–¢ 3):
   - –ü—Ä–æ–±–ª–µ–º–∞: `TypeError: Object of type datetime is not JSON serializable`
   - –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_serialize_datetime()` –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ datetime –≤ ISO —Ñ–æ—Ä–º–∞—Ç
   - –§–∞–π–ª: src/exporters/json_exporter.py (—Å—Ç—Ä–æ–∫–∏ 72-91)

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
1. ‚ö†Ô∏è –ü–æ–∫–∞ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö PDF —Ñ–∞–π–ª–∞—Ö –ù–ü–ê
2. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Å pytest
3. ‚ö†Ô∏è –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å README —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üìä –ú–ï–¢–†–ò–ö–ò –ü–†–û–ì–†–ï–°–°–ê

### –≠—Ç–∞–ø 1 (MVP):
- **–ü—Ä–æ–≥—Ä–µ—Å—Å:** 85% (–æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã ‚úÖ)
- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** 25 / ~28
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~3200
- **–¢–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ:** 4 / 4 (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ)
- **–ë–∞–≥–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** 1 (datetime serialization –≤ JSONExporter)

### –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:
‚úÖ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (100%)
‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (100%)
‚úÖ –£—Ç–∏–ª–∏—Ç—ã (100%)
‚úÖ –≠–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã (100%)
‚úÖ –ü–∞—Ä—Å–µ—Ä—ã (100%)
‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã (100% + –±–∞–≥-—Ñ–∏–∫—Å)
‚úÖ –ì–ª–∞–≤–Ω—ã–π NPAParser –∫–ª–∞—Å—Å (100%)
‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (100%)
‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (100%)

### –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å:
‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö PDF (0% - –æ–∂–∏–¥–∞–µ—Ç PDF –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
‚è≥ –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Å pytest (0%)
‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ (0%)
‚è≥ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (0%)

---

## üîÆ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≠—Ç–∞–ø–∞ 1)

### –≠—Ç–∞–ø 2: –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è + RAG –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- –ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–≥–ª–∞–≤—ã, —á–∞—Å—Ç–∏, –ø—É–Ω–∫—Ç—ã)
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü (pdfplumber)
- Semantic chunking –¥–ª—è RAG (LangChain)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

### –≠—Ç–∞–ø 3: NLP, —Å—É—â–Ω–æ—Å—Ç–∏ –∏ embeddings
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Natasha –¥–ª—è NER
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ –¥—Ä—É–≥–∏–µ –ù–ü–ê
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è embeddings (sentence-transformers)
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ë–î (ChromaDB/Weaviate)

### –≠—Ç–∞–ø 4: ML –¥–∞—Ç–∞—Å–µ—Ç—ã
- –°–æ–∑–¥–∞–Ω–∏–µ JSONL –¥–∞—Ç–∞—Å–µ—Ç–æ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QA-–ø–∞—Ä (OpenAI API)
- –ü—Ä–∏–º–µ—Ä—ã —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π

### –≠—Ç–∞–ø 5: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- –ü–∞–π–ø–ª–∞–π–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
- CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ú–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

---

## üìû –ö–û–ù–¢–ê–ö–¢–´ –ò –°–°–´–õ–ö–ò

- **–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** [CONCEPT.md](CONCEPT.md)
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è v2.0:** [CONCEPT_UPDATE_SUMMARY.md](CONCEPT_UPDATE_SUMMARY.md)
- **README:** [README.md](README.md)
- **Git branch:** `claude/npa-parser-design-LMZ1d`

---

---

## üéâ –í–ê–ñ–ù–´–ï –î–û–°–¢–ò–ñ–ï–ù–ò–Ø

### –ß–ï–ö-–ü–û–ô–ù–¢ 2 (2025-12-18):
1. ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Markdown —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä** - –ü–†–ò–û–†–ò–¢–ï–¢ #1 –¥–ª—è RAG —Å–∏—Å—Ç–µ–º!
   - YAML frontmatter —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
   - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (H1, H2, H3)
   - –ì–æ—Ç–æ–≤ –¥–ª—è semantic chunking

2. ‚úÖ **–ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ MVP –≥–æ—Ç–æ–≤–∞**:
   - –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (extractors, parsers, exporters)
   - Pydantic –º–æ–¥–µ–ª–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PyMuPDF + pymupdf4llm

3. ‚úÖ **–ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é**:
   - –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
   - API –ø—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π
   - –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ PDF

### –ß–ï–ö-–ü–û–ô–ù–¢ 3 (2025-12-18):
1. ‚úÖ **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã**:
   - examples/basic_usage.py - –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è API
   - examples/test_components.py - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

2. ‚úÖ **–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã**:
   - MetadataExtractor - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö ‚úÖ
   - ArticleParser - –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚úÖ
   - MarkdownExporter - –ü–†–ò–û–†–ò–¢–ï–¢ #1 ‚úÖ
   - JSONExporter - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç ‚úÖ

3. ‚úÖ **–ù–∞–π–¥–µ–Ω –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥**:
   - JSON datetime serialization - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ ISO —Ñ–æ—Ä–º–∞—Ç

4. ‚úÖ **–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ PDF**:
   - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
   - –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ß–ï–ö-–ü–û–ô–ù–¢ 4):
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º PDF –ù–ü–ê (–æ–∂–∏–¥–∞–µ—Ç —Ñ–∞–π–ª –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
2. –ù–∞–ø–∏—Å–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Å pytest
3. –û–±–Ω–æ–≤–∏—Ç—å README —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
4. –°–æ–∑–¥–∞—Ç—å requirements-dev.txt
5. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

**–í–ê–ñ–ù–û:** –≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–∏–º–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ!

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-18, –ß–ï–ö-–ü–û–ô–ù–¢ 3 –∑–∞–≤–µ—Ä—à—ë–Ω (commit –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω)
